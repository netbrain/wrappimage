# Example: warp-terminal AppImage, using appimageTools.wrapType2

This example demonstrates how to build a Home Manager configuration that exposes a `warp-terminal` wrapper. It pins a concrete upstream URL and hash. If upstream changes their build and the hash no longer matches, Nix will fail with a mismatch and print the correct hash to use.

Steps
1) Try a dev shell (no HM switch needed):
   nix develop
   # This will build the wrapper and make `warp-terminal` available.
   # If upstream changed, you may see a hash mismatch â€” copy the suggested hash.

2) If needed, update example/flake.nix with the suggested sha256 (SRI format), then retry:
   # edit ./flake.nix (replace the hash)
   nix develop
   warp-terminal

Alternative (Home Manager):
- You can also switch your Home Manager to the example:
  home-manager switch --flake .#netbrain
  warp-terminal

Desktop entry
- This example also installs a .desktop entry via xdg.desktopEntries generated by the module.
- You can control the entry with a desktop block in example/flake.nix, e.g.:
```nix
apps.warp-terminal = {
  url = "https://releases.warp.dev/stable/v0.2025.09.24.08.11.stable_00/Warp-x86_64.AppImage";
  hash = "sha256-PrV7FIMkWE+5vl43uxmwWDhQZi6ynrtR+bQ2gYlpm0U=";
  binName = "warp-terminal";
  desktop = {
    name = "Warp Terminal";
    genericName = "Terminal";
    comment = "Fast, modern terminal";
    icon = "utilities-terminal"; # or absolute path to an icon file
    categories = [ "Utility" "TerminalEmulator" ];
    terminal = false;
    execArgs = "%U"; # or "%F", or null
    keywords = [ "terminal" "shell" "warp" ];
  };
};
```
- After switching Home Manager, search your app launcher for "Warp Terminal". If it doesn't appear immediately, try logging out/in or running: update-desktop-database ~/.local/share/applications

Notes
- The wrapper name is set via binName = "warp-terminal"; in the example.
- If the upstream updates the AppImage, update the hash in flake.nix with the new suggested hash from the build error.
